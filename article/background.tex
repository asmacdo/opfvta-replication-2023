\section{Background}
% Things which should be skippable for anybody familiar with the field.
% Basically just a review of the technologies we build on and extend.
% Long commentary on methods actually goes here.
% Explain stuff like Gentoo or containers here.

\subsection{Reexecutable Research}

%TODO yoh cite hurr-durr reproduction crisis article
The reproducibility of research findings — i.e. independently verifying a published result or phenomenon — is a issue of considerable scientific interest \cite{TODO}.
Reexecutability — i.e. the basic feasibility of \textit{de novo} research output generation from the earliest recorded provenance — has remained largely unexplored as a discrete phenomenon.
While the scope of \textit{reexecution} is narrower than that of \textit{reproduction}, it constitutes a more well-defined and therefore tractable issue in improving the quality and sustainability of research.
Reexecution is a prerequisite for the reproduction of any research analysis process, and therefore in its absence reproducibility research itself is a matter open to variability in results.
Further, reexecution constitutes a capability in and of itself, with ample utility in education, training, rapid-feedback development, and resource reuse for novel research purposes (colloquially, “hacking”) — which may accrue even in the absence of accurate result reproduction.

%TODO yoh Is there a review of people sharing their code? If not we can cite a bunch of people who brag about putting their stuff on GH
Free and Open Source Software \cite{foss} has permeated the world of research to a significant extent, and it is presently not uncommon for researchers to publish part of the analysis instructions used in generating published results \cite{TODO} under free and open licenses.
However, such analysis instructions are commonly disconnected from the research output document, which is manually constructed from static inputs.
This precludes automatic reexecution of the full research output, and limits their potential for re-use.
Additionally, this means that, data analysis outputs and the positive claims which they support are not verifiably linked to the methods which support them.

In order to optimally leverage extant efforts pertaining to full article reexecution and in order to test reexecutability in the face of high task complexity, we have selected a novel neuroimaging study, identified as OPFVTA based on author naming conventions \cite{opfvta}.
Due to the high task complexity of integrating all data analysis into a coherent and reliable workflow, extant efforts pertaining to full article reexecution are scant and not suitably stress-tested at a larger scale.
One example is a novel neuroimaging study, identified as “OPFVTA” \cite{opfvta} based on author resource naming.
The 2022 article is accompanied by a programmatic workflow via which it can be fully regenerated — based solely on raw data, data analysis instructions, and the natural-language manuscript text — and which is initiated via a simple executable script in the ubiquitous GNU Bash \cite{bash} command language.
The reexecution process in this effort relies on an emerging infrastructure standard, RepSeP \cite{repsep}, which is used by additional other articles, thus providing a larger scope for conclusions that can be drawn from its study.


\subsection{Data Analysis}

One of the hallmarks of scientific data analysis is its intricacy — resulting from the manifold confounds which need to be accounted for, as well as from the breadth of questions which researchers may want to address.
Data analysis can be subdivided into \emph{data preprocessing} and \emph{data evaluation}.
The former consists of data cleaning, reformatting, standardization, and sundry processes which aim to make data suitable for evaluation.
Data evaluation consists of various types of statistical modeling, commonly applied in sequence at various hierarchical steps.

The OPFVTA article, which this study uses as an example, primarily studies effective connectivity, which is resolved via stimulus-evoked neuroimaging analysis.
Stimulus-evoked neuroimaging analysis is one of the more widespread applications, and thus the data analysis workflow (both in terms of \emph{data processing} and \emph{data evaluation}) provides significant analogy to numerous neuroimaging studies.
The data evaluation step for this sort of study is subdivided into “level one” (i.e., within-subject) analysis, and “level two” (i.e., across-subject) analysis, with the results of the latter being further reusable for higher-level analyses \cite{Friston1995}.
In the simplest terms, these modeling steps represent iterative applications of General Linear Modelling (GLM), at increasingly higher orders of abstraction.

Computationally, in the case of the OPFVTA article as well as the general case, the various data analysis workflow steps are sharply distinguished by their time cost.
By far the most expensive element is a substage of data preprocessing known as registration.
This commonly relies on iterative gradient descent and can additionally require high-density sampling depending on the feature density of the data.
The second most costly step is the first-level GLM, the cost of which emerges from to the high number of voxels modeled individually for each subject.

The impact of these time costs on reexecution is that rapid-feedback development and debugging can be compromised if the reexecution is monolithic.
While ascertaining the effect of changes in the registration instructions on the final result unavoidably necessitate the reexecution of the entire pipeline — editing natural-language commentary in the article text, or adapting figure styles, should not.
To this end the reference article of this study employs a hierarchical Bash-script structure, consisting of two steps.
The first step, consisting in data preprocessing and all data evaluation steps which operate in voxel space, is handled by one dedicated sub-script.
The second step handles document-specific element generation, i.e. inline statistics, figure, and TeX-based article generation.
The nomenclature to distinguish these two phases introduced by the authors is “high-iteration” and “low-iteration” \cite{repsep}.

Analysis dependency tracking, which is to say monitoring whether files required for the next hierarchical step have changed — and thus whether that step needs to be re-executed — is handled for the high-iteration analysis script via the RepSeP infrastructure, but not for the low-iteration script.


\subsection{Software Dependency Management}

Beyond the hierarchically chained data dependencies, which can be considered internal to the workflow, any data analysis workflow has additional dependencies in the form of software.
This refers to the computational tools called by the workflow — which, given the diversity of research applications, may encompass numerous and complex pieces of software.
Complexity in this sense also refers to the fact that individual software dependencies commonly come with their own software dependencies, which may in turn have further dependencies, and so on.
The resulting network of prerequisites is known as a “dependency graph”, and its resolution is commonly handled by a package manager.

The OPFVTA article in its original form relies on Portage \cite{portage} — a package manager characterized by providing integration across programming languages, source-based package installation, and wide-ranging support for neuroscience software \cite{ng}.
As such, the dependencies of the workflow are summarized in a standardized format, which is called an Ebuild.
This format is analogous to the format used to specify dependencies at all further hierarchical levels in the dependency tree.
This affords a homogeneous environment for dependency resolution, as specified by the Package Manager Standard \cite{pms}.
Additionally, the reference article contextualizes its raw data resource as a dependency, integrating data provision in the same network as software provision.

While the top-level Ebuild (i.e., the software dependency requirements of the workflow) is included in the article repository and distributed alongside it, the Ebuilds tracking dependencies further down the tree are all distributed via separate repositories.
These repositories are version controlled, meaning that their state at any time point is documented, and they can thus be restored to represent the environment as it would have been generated at any point in the past.


\subsection{Software Dependencies}

The aforementioned infrastructure is relied upon to provide a full set of widely adopted neuroimaging tools, including but not limited to ANTs \cite{ants}, nipype \cite{nipype}, FSL \cite{fsl}, AFNI \cite{afni}, and nilearn \cite{nilearn}.
Additionally, the OPFVTA study employs a higher-level workflow package, SAMRI \cite{samri,irsabi}, which provides workflows optimized for the preprocessing and evaluation of animal neuroimaging data.


\subsection{Containers}

Operating system virtualization is a process whereby an operating system can be installed inside another operating system, without being subject to the environment constraints of its parent, and without potentially polluting the parent environment.
Given the complexity of scientific computing environments, such virtualization is attractive on multi-user systems, on systems lacking adequate package management capabilities, or in instances where the tasks to be executed are fragile and may require bespoke constraints.

A prominent instantiation of virtualization is container technology, which focuses on portability of operating system images (the eponymous “containers”) across parent operating systems contingent only on the presence of a container running service.
Their relevance to open science consists in providing end-users with an accessible environment, which can be ascertained to provide the requirements of a certain top-level workflow, and which does not interfere with their parent environment.

Two of the most prominent container standards are offered by the Open Container Initiative (OCI) and Singularity.
The former is used by applications such as Docker and Podman, and the latter by the eponymous Singularity application, which differentiates itself from OCI by not requiring root access, and thus being arguably better suited for scientific computing in high-performance computing environments.

While the reference OPFVTA article does not leverage this technology, containers can improve its portability, as well as provide a snapshot of its functioning at a certain point in time — mitigating process fragility in view of incrementing software dependency versions.
